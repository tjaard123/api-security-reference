# API Security Reference

This project is a simple demonstration of how to secure machine-to-machine api channels.

## Running the Example:

First `npm install` and then

```
$ node ./api/api.js
$ node ./consumer/consumer.js
$ node ./attacker/attacker.js
```

## Layman's Security Checklist

- [ ] Information in transit isn't readable (Encryption)
- [ ] Tamper proof request (Digital Signature)
- [ ] Consumer is talking to real API (Certificate)
- [ ] Consumer is who says he is (Authentication)
- [ ] Limit damage of compromised channel (Token Expiry)
- [ ] Limit secrets in transit (Tokens, Keypairs)
- [ ] Consumer can access only what he needs (Authorization)
- [ ] Limit compromised credentials (Network IP Whitelist)

## Encryption

Prevent a man-in-the-middle from reading request / response data

> **Only** use TLS (https)

The consumer must verify that it's talking directly to the real API. **Don't** ignore certificate errors.

> Validate certificate from API

## Authentication

Limit or prevent security credentials transported over the cahnnel. Use tokens that are digitally signed and expire. API can use the public key to validate that the request was generated by the consumer, who owns the private key. No credentials needs to be exchanged over the channel.

> Use tokens that expire

> Digitally sign tokens

> Best practice: Put token in Authorization header

Avoid basic authentication, where username and password is sent with every request